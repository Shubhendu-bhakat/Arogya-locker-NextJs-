module.exports=[14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},22734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},21517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},24836,(a,b,c)=>{b.exports=a.x("https",()=>require("https"))},92509,(a,b,c)=>{b.exports=a.x("url",()=>require("url"))},49719,(a,b,c)=>{b.exports=a.x("assert",()=>require("assert"))},6461,(a,b,c)=>{b.exports=a.x("zlib",()=>require("zlib"))},27699,(a,b,c)=>{b.exports=a.x("events",()=>require("events"))},97947,a=>{"use strict";a.s(["UploadDocumentPage",()=>h,"default",()=>i]);var b=a.i(87924),c=a.i(72131),d=a.i(83490),e=a.i(31563),f=a.i(75003);let g=[{value:"PRESCRIPTION",label:"Prescription",icon:"ğŸ’Š",description:"Medical prescriptions and medication"},{value:"XRAY",label:"X-Ray",icon:"ğŸ©»",description:"X-ray images and radiological reports"},{value:"LAB_TESTS",label:"Lab Tests",icon:"ğŸ§ª",description:"Laboratory test results and reports"},{value:"GENERAL_DOCUMENTS",label:"General Documents",icon:"ğŸ“„",description:"General medical documents"},{value:"OTHERS",label:"Others",icon:"ğŸ“‹",description:"Other medical related documents"}];function h(){let[a,f]=(0,c.useState)(null),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(0),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!0),x=(0,c.useRef)(null);(0,c.useEffect)(()=>{(async()=>{try{w(!0);let a=await d.default.get("/api/auth/documents/uploades");u(a.data.userId)}catch(a){console.error("Error fetching userId:",a),s("Failed to load user information. Please refresh the page.")}finally{w(!1)}})()},[]);let y=a=>a.size>0xa00000?void s(`File size should not exceed 10MB. Current size: ${(a.size/1048576).toFixed(2)}MB`):["image/jpeg","image/png","image/gif","image/webp","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(a.type)?void(f(a),s(""),q(null)):void s("File type not allowed. Please upload PDF, images, or Word documents."),z=a=>a.includes("pdf")?"pdf":a.includes("image")?"image":a.includes("document")||a.includes("word")?"document":"other",A=async b=>{if(b.preventDefault(),!a)return void s("Please select a file to upload");if(!h)return void s("Please select a document category");if(!t)return void s("User information not available. Please refresh the page.");k(!0),m(0),s(""),q(null);try{let b=new FormData;b.append("file",a),b.append("category",h),b.append("userId",t.toString());let c=await d.default.post("/api/auth/documents/uploades",b,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:a=>{if(a.total){let b=Math.round(100*a.loaded/a.total);m(b)}}});c.data.success?(q(c.data),setTimeout(()=>{f(null),i(""),m(0),x.current&&(x.current.value="")},2e3)):s(c.data.error||"Upload failed")}catch(a){console.error("Upload error:",a),s(a.response?.data?.error||"Network error. Please try again.")}finally{k(!1)}};return v?(0,b.jsx)("div",{className:e.default.uploadContainer,children:(0,b.jsx)("div",{className:e.default.uploadWrapper,children:(0,b.jsxs)("div",{className:e.default.pageHeader,children:[(0,b.jsx)("h1",{className:e.default.pageTitle,children:"Upload Medical Document"}),(0,b.jsx)("p",{className:e.default.pageSubtitle,children:"Loading..."})]})})}):(0,b.jsx)("div",{className:e.default.uploadContainer,children:(0,b.jsxs)("div",{className:e.default.uploadWrapper,children:[(0,b.jsxs)("div",{className:e.default.pageHeader,children:[(0,b.jsx)("h1",{className:e.default.pageTitle,children:"Upload Medical Document"}),(0,b.jsx)("p",{className:e.default.pageSubtitle,children:"Securely upload and organize your medical documents for easy access and management"})]}),(0,b.jsx)("div",{className:e.default.uploadCard,children:(0,b.jsxs)("form",{onSubmit:A,className:e.default.uploadForm,children:[(0,b.jsxs)("div",{className:e.default.formGroup,children:[(0,b.jsxs)("label",{className:e.default.formLabel,children:["ğŸ“ Document Category ",(0,b.jsx)("span",{className:e.default.required,children:"*"})]}),(0,b.jsx)("div",{className:e.default.categoryGrid,children:g.map(a=>(0,b.jsxs)("div",{className:`${e.default.categoryCard} ${h===a.value?e.default.selected:""}`,onClick:()=>i(a.value),children:[(0,b.jsx)("div",{className:e.default.categoryIcon,children:a.icon}),(0,b.jsx)("div",{className:e.default.categoryName,children:a.label}),(0,b.jsx)("div",{className:e.default.categoryDescription,children:a.description})]},a.value))})]}),(0,b.jsxs)("div",{className:e.default.formGroup,children:[(0,b.jsxs)("label",{htmlFor:"document-file-input",className:e.default.formLabel,children:["ğŸ“ Select Document ",(0,b.jsx)("span",{className:e.default.required,children:"*"})]}),(0,b.jsxs)("div",{className:`${e.default.fileDropZone} ${n?e.default.dragActive:""} ${a?e.default.hasFile:""}`,onDragOver:a=>a.preventDefault(),onDragEnter:()=>o(!0),onDragLeave:()=>o(!1),onDrop:a=>{a.preventDefault(),a.stopPropagation(),o(!1),a.dataTransfer.files&&a.dataTransfer.files[0]&&y(a.dataTransfer.files[0])},onClick:()=>x.current?.click(),children:[(0,b.jsx)("input",{ref:x,id:"document-file-input",type:"file",className:e.default.hiddenFileInput,onChange:a=>{a.target.files&&a.target.files[0]&&y(a.target.files[0])},accept:".pdf,.jpg,.jpeg,.png,.gif,.webp,.doc,.docx"}),a?(0,b.jsxs)("div",{className:e.default.fileInfo,children:[(0,b.jsx)("div",{className:`${e.default.fileIcon} ${e.default[z(a.type)]}`,children:"pdf"===z(a.type)?"PDF":"image"===z(a.type)?"ğŸ–¼ï¸":"document"===z(a.type)?"ğŸ“„":"ğŸ“‹"}),(0,b.jsxs)("div",{className:e.default.fileDetails,children:[(0,b.jsx)("div",{className:e.default.fileName,children:a.name}),(0,b.jsx)("div",{className:e.default.fileSize,children:(a=>{if(0===a)return"0 Bytes";let b=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,b)).toFixed(2))+" "+["Bytes","KB","MB","GB"][b]})(a.size)})]}),(0,b.jsx)("button",{type:"button",className:e.default.removeFileButton,onClick:a=>{a.stopPropagation(),f(null),s(""),q(null),x.current&&(x.current.value="")},children:"âœ•"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:e.default.uploadIcon,children:"ğŸ“"}),(0,b.jsx)("div",{className:e.default.uploadText,children:n?"Drop file here":"Drag and drop your file here"}),(0,b.jsx)("div",{className:e.default.uploadSubtext,children:"or click to browse (PDF, Images, Word docs - Max 10MB)"}),(0,b.jsx)("button",{type:"button",className:e.default.browseButton,children:"ğŸ“ Browse Files"})]})]})]}),j&&(0,b.jsxs)("div",{className:e.default.uploadProgress,children:[(0,b.jsxs)("div",{className:e.default.progressText,children:["Uploading document... ",l,"%"]}),(0,b.jsx)("div",{className:e.default.progressBar,children:(0,b.jsx)("div",{className:e.default.progressFill,style:{width:`${l}%`}})})]}),r&&(0,b.jsxs)("div",{className:e.default.errorMessage,children:["âŒ ",r]}),p&&p.success&&(0,b.jsxs)("div",{className:e.default.successMessage,children:["âœ… ",p.message]}),(0,b.jsx)("button",{type:"submit",className:e.default.submitButton,disabled:!a||!h||j||!t,children:j?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:e.default.loadingSpinner}),"Uploading..."]}):(0,b.jsx)(b.Fragment,{children:"ğŸš€ Upload Document"})})]})})]})})}function i(){return(0,b.jsx)(f.SessionProvider,{children:(0,b.jsx)(h,{})})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__2a00c404._.js.map