{"version":3,"sources":["turbopack:///[project]/app/documents/uploads/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useRef, useEffect, DragEvent, ChangeEvent } from \"react\";\r\nimport axios from \"axios\";\r\nimport styles from \"../../../styles/document.module.css\";\r\nimport {prisma} from \"../../lib/prisma\";\r\nimport { SessionProvider, useSession } from \"next-auth/react\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\ninterface UploadResponse {\r\n  success: boolean;\r\n  message: string;\r\n  data?: any;\r\n  error?: string;\r\n}\r\n\r\nconst DOCUMENT_CATEGORIES = [\r\n  { value: \"PRESCRIPTION\", label: \"Prescription\", icon: \"üíä\", description: \"Medical prescriptions and medication\" },\r\n  { value: \"XRAY\", label: \"X-Ray\", icon: \"ü©ª\", description: \"X-ray images and radiological reports\" },\r\n  { value: \"LAB_TESTS\", label: \"Lab Tests\", icon: \"üß™\", description: \"Laboratory test results and reports\" },\r\n  { value: \"GENERAL_DOCUMENTS\", label: \"General Documents\", icon: \"üìÑ\", description: \"General medical documents\" },\r\n  { value: \"OTHERS\", label: \"Others\", icon: \"üìã\", description: \"Other medical related documents\" },\r\n];\r\n\r\nexport function UploadDocumentPage() {\r\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n  const [selectedCategory, setSelectedCategory] = useState<string>(\"\");\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [isDragActive, setIsDragActive] = useState(false);\r\n  const [uploadResult, setUploadResult] = useState<UploadResponse | null>(null);\r\n  const [error, setError] = useState<string>(\"\");\r\n  const [userId, setUserId] = useState<string | null>(null);\r\n  const [isLoadingUserId, setIsLoadingUserId] = useState(true);\r\n\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  // Fetch userId when component mounts\r\n  useEffect(() => {\r\n    const fetchUserId = async () => {\r\n      try {\r\n        setIsLoadingUserId(true);\r\n        const res = await axios.get(\"/api/auth/documents/uploades\");\r\n        setUserId(res.data.userId);\r\n      } catch (error) {\r\n        console.error(\"Error fetching userId:\", error);\r\n        setError(\"Failed to load user information. Please refresh the page.\");\r\n      } finally {\r\n        setIsLoadingUserId(false);\r\n      }\r\n    };\r\n\r\n    fetchUserId();\r\n  }, []);\r\n\r\n  const handleFileSelection = (file: File) => {\r\n    const maxSize = 10 * 1024 * 1024;\r\n    if (file.size > maxSize) {\r\n      setError(`File size should not exceed 10MB. Current size: ${(file.size / (1024 * 1024)).toFixed(2)}MB`);\r\n      return;\r\n    }\r\n\r\n    const allowedTypes = [\r\n      \"image/jpeg\",\r\n      \"image/png\",\r\n      \"image/gif\",\r\n      \"image/webp\",\r\n      \"application/pdf\",\r\n      \"application/msword\",\r\n      \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\r\n    ];\r\n\r\n    if (!allowedTypes.includes(file.type)) {\r\n      setError(\"File type not allowed. Please upload PDF, images, or Word documents.\");\r\n      return;\r\n    }\r\n\r\n    setSelectedFile(file);\r\n    setError(\"\");\r\n    setUploadResult(null);\r\n  };\r\n\r\n  const handleFileInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      handleFileSelection(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleDrop = (e: DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setIsDragActive(false);\r\n\r\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\r\n      handleFileSelection(e.dataTransfer.files[0]);\r\n    }\r\n  };\r\n\r\n  const removeSelectedFile = () => {\r\n    setSelectedFile(null);\r\n    setError(\"\");\r\n    setUploadResult(null);\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = \"\";\r\n    }\r\n  };\r\n\r\n  const getFileIcon = (fileType: string) => {\r\n    if (fileType.includes(\"pdf\")) return \"pdf\";\r\n    if (fileType.includes(\"image\")) return \"image\";\r\n    if (fileType.includes(\"document\") || fileType.includes(\"word\")) return \"document\";\r\n    return \"other\";\r\n  };\r\n\r\n  const formatFileSize = (bytes: number) => {\r\n    if (bytes === 0) return \"0 Bytes\";\r\n    const k = 1024;\r\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (!selectedFile) {\r\n      setError(\"Please select a file to upload\");\r\n      return;\r\n    }\r\n    if (!selectedCategory) {\r\n      setError(\"Please select a document category\");\r\n      return;\r\n    }\r\n    if (!userId) {\r\n      setError(\"User information not available. Please refresh the page.\");\r\n      return;\r\n    }\r\n\r\n    setIsUploading(true);\r\n    setUploadProgress(0);\r\n    setError(\"\");\r\n    setUploadResult(null);\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"file\", selectedFile);\r\n      formData.append(\"category\", selectedCategory);\r\n      formData.append(\"userId\", userId.toString());\r\n\r\n      const response = await axios.post<UploadResponse>(\r\n        \"/api/auth/documents/uploades\", // üëà Next.js API route\r\n        formData,\r\n        {\r\n          headers: { \"Content-Type\": \"multipart/form-data\" },\r\n          onUploadProgress: (progressEvent) => {\r\n            if (progressEvent.total) {\r\n              const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n              setUploadProgress(percentCompleted);\r\n            }\r\n          },\r\n        }\r\n      );\r\n\r\n      if (response.data.success) {\r\n        setUploadResult(response.data);\r\n        setTimeout(() => {\r\n          setSelectedFile(null);\r\n          setSelectedCategory(\"\");\r\n          setUploadProgress(0);\r\n          if (fileInputRef.current) fileInputRef.current.value = \"\";\r\n        }, 2000);\r\n      } else {\r\n        setError(response.data.error || \"Upload failed\");\r\n      }\r\n    } catch (err: any) {\r\n      console.error(\"Upload error:\", err);\r\n      setError(err.response?.data?.error || \"Network error. Please try again.\");\r\n    } finally {\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  // Show loading state while fetching userId\r\n  if (isLoadingUserId) {\r\n    return (\r\n      <div className={styles.uploadContainer}>\r\n        <div className={styles.uploadWrapper}>\r\n          <div className={styles.pageHeader}>\r\n            <h1 className={styles.pageTitle}>Upload Medical Document</h1>\r\n            <p className={styles.pageSubtitle}>Loading...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.uploadContainer}>\r\n      <div className={styles.uploadWrapper}>\r\n        <div className={styles.pageHeader}>\r\n          <h1 className={styles.pageTitle}>Upload Medical Document</h1>\r\n          <p className={styles.pageSubtitle}>\r\n            Securely upload and organize your medical documents for easy access and management\r\n          </p>\r\n        </div>\r\n\r\n        <div className={styles.uploadCard}>\r\n          <form onSubmit={handleSubmit} className={styles.uploadForm}>\r\n            {/* Category Selection */}\r\n            <div className={styles.formGroup}>\r\n              <label className={styles.formLabel}>\r\n                üìÅ Document Category <span className={styles.required}>*</span>\r\n              </label>\r\n              <div className={styles.categoryGrid}>\r\n                {DOCUMENT_CATEGORIES.map((category) => (\r\n                  <div\r\n                    key={category.value}\r\n                    className={`${styles.categoryCard} ${\r\n                      selectedCategory === category.value ? styles.selected : \"\"\r\n                    }`}\r\n                    onClick={() => setSelectedCategory(category.value)}\r\n                  >\r\n                    <div className={styles.categoryIcon}>{category.icon}</div>\r\n                    <div className={styles.categoryName}>{category.label}</div>\r\n                    <div className={styles.categoryDescription}>{category.description}</div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* File Upload */}\r\n            <div className={styles.formGroup}>\r\n              <label htmlFor=\"document-file-input\" className={styles.formLabel}>\r\n                üìé Select Document <span className={styles.required}>*</span>\r\n              </label>\r\n              <div\r\n                className={`${styles.fileDropZone} ${\r\n                  isDragActive ? styles.dragActive : \"\"\r\n                } ${selectedFile ? styles.hasFile : \"\"}`}\r\n                onDragOver={(e) => e.preventDefault()}\r\n                onDragEnter={() => setIsDragActive(true)}\r\n                onDragLeave={() => setIsDragActive(false)}\r\n                onDrop={handleDrop}\r\n                onClick={() => fileInputRef.current?.click()}\r\n              >\r\n                <input\r\n                  ref={fileInputRef}\r\n                  id=\"document-file-input\"\r\n                  type=\"file\"\r\n                  className={styles.hiddenFileInput}\r\n                  onChange={handleFileInputChange}\r\n                  accept=\".pdf,.jpg,.jpeg,.png,.gif,.webp,.doc,.docx\"\r\n                />\r\n\r\n                {!selectedFile ? (\r\n                  <>\r\n                    <div className={styles.uploadIcon}>üìÅ</div>\r\n                    <div className={styles.uploadText}>\r\n                      {isDragActive ? \"Drop file here\" : \"Drag and drop your file here\"}\r\n                    </div>\r\n                    <div className={styles.uploadSubtext}>\r\n                      or click to browse (PDF, Images, Word docs - Max 10MB)\r\n                    </div>\r\n                    <button type=\"button\" className={styles.browseButton}>\r\n                      üìé Browse Files\r\n                    </button>\r\n                  </>\r\n                ) : (\r\n                  <div className={styles.fileInfo}>\r\n                    <div\r\n                      className={`${styles.fileIcon} ${styles[getFileIcon(selectedFile.type)]}`}\r\n                    >\r\n                      {getFileIcon(selectedFile.type) === \"pdf\"\r\n                        ? \"PDF\"\r\n                        : getFileIcon(selectedFile.type) === \"image\"\r\n                        ? \"üñºÔ∏è\"\r\n                        : getFileIcon(selectedFile.type) === \"document\"\r\n                        ? \"üìÑ\"\r\n                        : \"üìã\"}\r\n                    </div>\r\n                    <div className={styles.fileDetails}>\r\n                      <div className={styles.fileName}>{selectedFile.name}</div>\r\n                      <div className={styles.fileSize}>{formatFileSize(selectedFile.size)}</div>\r\n                    </div>\r\n                    <button\r\n                      type=\"button\"\r\n                      className={styles.removeFileButton}\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        removeSelectedFile();\r\n                      }}\r\n                    >\r\n                      ‚úï\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Upload Progress */}\r\n            {isUploading && (\r\n              <div className={styles.uploadProgress}>\r\n                <div className={styles.progressText}>\r\n                  Uploading document... {uploadProgress}%\r\n                </div>\r\n                <div className={styles.progressBar}>\r\n                  <div className={styles.progressFill} style={{ width: `${uploadProgress}%` }}></div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Error Message */}\r\n            {error && <div className={styles.errorMessage}>‚ùå {error}</div>}\r\n\r\n            {/* Success Message */}\r\n            {uploadResult && uploadResult.success && (\r\n              <div className={styles.successMessage}>‚úÖ {uploadResult.message}</div>\r\n            )}\r\n\r\n            {/* Submit Button */}\r\n            <button\r\n              type=\"submit\"\r\n              className={styles.submitButton}\r\n              disabled={!selectedFile || !selectedCategory || isUploading || !userId}\r\n            >\r\n              {isUploading ? (\r\n                <>\r\n                  <div className={styles.loadingSpinner}></div>\r\n                  Uploading...\r\n                </>\r\n              ) : (\r\n                <>üöÄ Upload Document</>\r\n              )}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function UploadDocumentPage2(){\r\n  return (\r\n    <SessionProvider>\r\n      <UploadDocumentPage/>\r\n    </SessionProvider>\r\n  )\r\n}"],"names":[],"mappings":"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"}