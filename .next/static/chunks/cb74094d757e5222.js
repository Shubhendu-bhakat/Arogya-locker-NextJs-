(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6589,e=>{e.v({bot:"chat-module__uNFIjq__bot",chatBox:"chat-module__uNFIjq__chatBox",chatContainer:"chat-module__uNFIjq__chatContainer",chatWrapper:"chat-module__uNFIjq__chatWrapper",fadeIn:"chat-module__uNFIjq__fadeIn",hiddenInput:"chat-module__uNFIjq__hiddenInput",imageMessage:"chat-module__uNFIjq__imageMessage",inputArea:"chat-module__uNFIjq__inputArea",message:"chat-module__uNFIjq__message",sendBtn:"chat-module__uNFIjq__sendBtn",textInput:"chat-module__uNFIjq__textInput",uploadLabel:"chat-module__uNFIjq__uploadLabel",user:"chat-module__uNFIjq__user"})},53836,e=>{"use strict";e.s(["default",()=>l]);var t=e.i(43476),a=e.i(71645),s=e.i(6589);function l(e){let{firstName:l}=e,[u,d]=(0,a.useState)([]),[n,i]=(0,a.useState)(""),[r,o]=(0,a.useState)(null),c=(0,a.useRef)(null),m=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=new WebSocket("ws://localhost:8080");return o(e),e.onmessage=e=>{d(t=>[...t,{sender:"bot",senderName:"ArogyaBot",text:e.data,type:"text",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}])},()=>e.close()},[]),(0,a.useEffect)(()=>{var e;null==(e=m.current)||e.scrollIntoView({behavior:"smooth"})},[u]);let h=()=>{if(!n.trim())return;let e={sender:"user",senderName:l,text:n,type:"text",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};d(t=>[...t,e]),null==r||r.send(n),setTimeout(()=>{d(e=>[...e,{sender:"bot",senderName:"ArogyaBot",text:"This is a standard response ðŸ¤–",type:"text",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}])},800),i("")};return(0,t.jsx)("div",{className:s.default.chatWrapper,children:(0,t.jsxs)("div",{className:s.default.chatContainer,children:[(0,t.jsxs)("div",{className:s.default.chatBox,children:[u.map((e,a)=>(0,t.jsxs)("div",{className:"".concat(s.default.messageWrapper," ").concat("user"===e.sender?s.default.userWrapper:s.default.botWrapper),children:[(0,t.jsx)("span",{className:s.default.senderName,children:e.senderName}),(0,t.jsx)("div",{className:"".concat(s.default.message," ").concat("user"===e.sender?s.default.user:s.default.bot),children:"text"===e.type?(0,t.jsx)("p",{children:e.text}):(0,t.jsx)("img",{src:e.text,alt:"Uploaded",className:s.default.imageMessage})}),(0,t.jsx)("span",{className:s.default.timestamp,children:e.time})]},a)),(0,t.jsx)("div",{ref:m})]}),(0,t.jsxs)("div",{className:s.default.inputArea,children:[(0,t.jsx)("input",{type:"text",placeholder:"Type your message...",value:n,onChange:e=>i(e.target.value),onKeyDown:e=>"Enter"===e.key&&h(),className:s.default.textInput}),(0,t.jsx)("label",{htmlFor:"file-upload",className:s.default.uploadLabel,children:"ðŸ“· Upload"}),(0,t.jsx)("input",{type:"file",accept:"image/*",ref:c,onChange:e=>e.target.files&&(e=>{let t=new FileReader;t.onload=()=>{let e={sender:"user",senderName:l,text:t.result,type:"image",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};d(t=>[...t,e]),setTimeout(()=>{d(e=>[...e,{sender:"bot",senderName:"ArogyaBot",text:"âœ… Image received",type:"text",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}])},800)},t.readAsDataURL(e)})(e.target.files[0]),className:s.default.hiddenInput,id:"file-upload"}),(0,t.jsx)("button",{onClick:h,className:s.default.sendBtn,children:"Send"})]})]})})}}]);